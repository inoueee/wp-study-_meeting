# wp-study-_meeting

## はじめに
この資料は社内向けのWordPress勉強会の説明資料です。

### WordPressとは？

WordPressとは、2003年に開発が始まったオープンソースのブログ投稿管理システム、CMS(コンテンツ管理システム)です。

CMSとしてはほぼ1強に近いほどのシェアを持っており、世界中のサイトのおよそ4分の1はWordPressで構築されていると言われています。

[公式（日本）サイトはこちら](https://ja.wordpress.org/)  
[ダウンロードはこちら](https://ja.wordpress.org/download/)  
[例のサイト](https://wpdocs.osdn.jp/Main_Page)

### 動作要件
- PHP 7.3
- MySQL 5.6 or MariaDB 10.1
- Apache or Nginx

## テーマとは

ざっくり下記のような感じです。
- テーマ：ディレクトリ
- テンプレート：ディレクトリの中にある一部のファイル（例：page.php single.php）

### テンプレートとは？

> "テンプレートファイルとは、WordPressサイトの構成要素です。サイト上のどのWebページを生成するときにも、パズルのピースのように組み合わせることができます。[例のサイト](https://wpdocs.osdn.jp/%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E5%85%A5%E9%96%80) "

WordPress では、アクセスされたページに合わせて、表示するテンプレートファイルが自動的に選択されるようになっています。（テンプレートからページへの変換  ）

１つのテーマには複数のテンプレートを入れてページの種類によって使い分けることができます。

#### テーマの構成要素
**index.php**と「**style.css**の2つはWordPressテーマに必須のファイルで、これらが存在しないと正しく機能しません。**index.php**が必須なのは、WordPressのテンプレート階層が関係しています。

![テンプレート階層](https://wpdocs.osdn.jp/wiki/images/wp-template-hierarchy.jpg "テンプレート階層")

テーマに必須のテンプレートファイルが**index.php**と**style.css**のみとは言え、ほとんどのテーマでは複数のテンプレートファイルが用意されています。  
下記の表は、その一例です。


|ページの種類|テンプレート|概要|
|:----------|:-----------|:---|
|テーマの必須ファイル|index.php|他に適切なテンプレートが存在しない場合に最終的に使用されるファイル|
|フロントページ|front-page.php|サイトのトップページを出力|
|メインページ|home.php|サイトのトップページを出力|
|固定ページ|page.php|個々の固定ページを出力|
|投稿|single.php|個々の投稿のページを出力|
|カテゴリー|category.php|カテゴリーごとのアーカイブ（一覧）ページを出力|
|タグ|tag.php|タグごとのアーカイブ（一覧）ページを出力|
|作成者|author.php|作成者別のアーカイブ（一覧）ページを出力|
|日付|date.php|日付ごとのアーカイブ（一覧）ページを出力|
|アーカイブ|archive.php|アーカイブ（一覧）ページを出力|
|検索結果|search.php|検索結果のページを出力|
|404(Not Found)|404.php|404エラー（Not Found）ページを出力|

テンプレートには、優先順位が付いていて、WordPress はアクセスされたページによって優先順位の高いテンプレートを自動的に探します。  
[テンプレート階層](https://wpdocs.osdn.jp/%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E9%9A%8E%E5%B1%A4)


## テーマ作成のステップ

### 1.テーマディレクトリの作成

まずはテーマディレクトリを作成しましょう。

テーマディレクトリの中にテンプレートファイルやスタイルシートなど、テーマに必要なファイルはすべて１つのフォルダにまとめます。

自分でテンプレートファイルを1から作る場合はディレクトリの名前は何でもよいです。  
ですが、あとで探しやすいようにわかりやすい名前にしておくと良いでしょう。

### 2.index.phpの作成

次にテンプレートファイルを作成します。

テンプレートファイルといってもたくさんありますが、まずは一番基本となる**index.php**を作成しましょう。

index.phpには以下の要素を記述します。  
保存するときの文字コードは特別な事情がない限り**UTF-8**にします

### 3.style.cssの作成

次にstyle.cssを作成します。
ファイルの最初に以下の4項目を記述してください。  
必須なのは**Theme Name**だけなので、テーマの名称だけ記述しても問題ありません。

```
/*
Theme Name: サンプルテーマ
Author: 製作者の名前
Author URI: 製作者のURL
Description: テーマの説明
*/
```

## Tips

### よく使うやつ

#### テーマ内のheader.phpやfooter.phpを読み込む
```
// header.phpを読み込む。
<?php get_header(); ?>
```
```
// header-index.phpを読み込む。
<?php get_header('index'); ?>
```

下記のような記述でそれぞれ、footer.php sidebar.phpを読み込める
```
<?php get_footer(); ?>
```

```
<?php get_sidebar(); ?>
```

#### bodyにclass属性を振りたい
```
<body <?php body_class( ); ?>>
```
